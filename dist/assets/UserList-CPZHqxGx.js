import{r as i,j as e,H as u}from"./index-DA7c_E-X.js";import{Q as f,B as o}from"./ReactToastify-B7csjfU9.js";import{a as p}from"./axiosService-Cn-l7JZq.js";import{A as b}from"./Header-DTWCZNIh.js";import{A as j}from"./Sidebar-BuSkWbNm.js";import"./clsx-B-dksMZM.js";import"./axios-B6xwUs71.js";import"./index-VWaDGczM.js";import"./logout-N69Hl7hh.js";import"./toaster-CDKtkdIq.js";import"./Set_Get-jfIHgayU.js";import"./index-CAQ6KIhw.js";import"./iconBase-0wn4fA3J.js";const g=({serial:s,_id:l,name:a,email:n,isBlocked:d})=>{const[t,x]=i.useState(d),h=()=>{const m=t?"unblock":"block",c=o(e.jsxs("div",{children:[e.jsxs("p",{children:["Do you really want to ",m," this user?"]}),e.jsx("button",{onClick:()=>{x(!t),p.patch(`${u}/block_user/${l}`).then(r=>{r.data.success&&o.success(r.data.message)}).catch(r=>console.log(r)),o.dismiss(c)},className:"bg-blue-500 text-white p-1 m-1 rounded",children:"Yes"}),e.jsx("button",{onClick:()=>o.dismiss(c),className:"bg-gray-500 text-white p-1 m-1 rounded",children:"No"})]}),{autoClose:!1})};return e.jsxs(e.Fragment,{children:[e.jsx(f,{}),e.jsxs("tr",{className:"bg-white border-b dark:bg-white dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-fuchsia-200",children:[e.jsx("td",{className:"px-6 py-4 text-left font-medium text-gray-900 whitespace-nowrap dark:text-fuchsia-950",children:s}),e.jsx("td",{className:"px-6 py-4 text-left text-fuchsia-950",children:a}),e.jsx("td",{className:"px-6 py-4 text-left text-fuchsia-950",children:n}),e.jsx("td",{className:"px-6 py-4 text-left text-fuchsia-950",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${t?"bg-red-500":"bg-green-400"}`}),e.jsx("p",{children:t?"Blocked":"Active"})]})}),e.jsx("td",{className:"px-6 py-4 text-left",children:e.jsx("label",{className:"flex cursor-pointer select-none items-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:t,onChange:h,className:"sr-only"}),e.jsx("div",{className:`box block h-6 w-10 rounded-full border-2 ${t?"bg-red-500  border-red-700":"bg-primary  border-fuchsia-950"}`}),e.jsx("div",{className:`absolute left-1 top-1 flex h-4 w-4 items-center justify-center rounded-full bg-fuchsia-950 transition ${t?"translate-x-full":""}`})]})})})]})]})},N=()=>{const[s,l]=i.useState([]);return i.useEffect(()=>{p.get(u+"/users").then(({data:a})=>{l(a.users)}).catch(a=>console.log(a))},[l]),{users:s,setUsers:l}},_=()=>{const[s,l]=i.useState(1),a=8,{users:n}=N(),d=n.length,t=Math.ceil(d/a),x=n.slice((s-1)*a,s*a),h=()=>{s<t&&l(s+1)},m=()=>{s>1&&l(s-1)};return e.jsxs("div",{className:"flex h-screen",children:[e.jsx(j,{}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx(b,{}),e.jsxs("div",{className:"flex-grow p-6 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold mb-4 text-fuchsia-950",children:"User List"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table-auto w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-fuchsia-950 text-white",children:[e.jsx("th",{className:"px-6 py-3 text-left",children:"Serial"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Actions"})]})}),e.jsx("tbody",{children:x.map((c,r)=>i.createElement(g,{...c,key:c._id,serial:(s-1)*a+r+1}))})]})})]}),e.jsxs("div",{className:"flex justify-between mt-4",children:[e.jsx("button",{onClick:m,disabled:s===1,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Previous"}),e.jsxs("span",{children:["Page ",s," of ",t]}),e.jsx("button",{onClick:h,disabled:s===t,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Next"})]})]})]})]})};export{_ as default};
