import{r as o,u as k,D as c,j as e,L as C}from"./index-CfebaG3Z.js";import{u as S}from"./formik.esm-u-DLBJw_.js";import{s as d}from"./toaster-CAIDXZc9.js";import{a as m}from"./axios-B6xwUs71.js";import{c as D}from"./validation-DHzXRGQZ.js";import{a as E}from"./uploadImages-C93VI_b2.js";const L="/assets/tetiana-shyshkina-c6CFeAiydiM-unsplash-q0UbtOMJ.jpg",U=()=>{const[p,l]=o.useState(!1),[u,x]=o.useState([]),[i,h]=o.useState(null),b=k(),s=S({initialValues:{name:"",email:"",phoneNumber:"",department:"",education:"",description:"",experience:"",password:"",confirmPassword:"",lisenceCertificate:null},validate:D,onSubmit:async({name:a,email:t,password:r,phoneNumber:f,department:N,education:j,description:y,experience:w,lisenceCertificate:v})=>{l(!0);const F=await E(v);m.post(c+"/signup",{doctorName:a,email:t,password:r,phoneNumber:f,department:N,education:j,description:y,experience:w,lisenceCertificate:F}).then(({data:n})=>{d(n.message,"success"),setTimeout(()=>{b("/doctor/login")},1e3)}).catch(({response:n})=>{const{message:P}=n.data;l(!1),d(P,"error")})}});console.log(p),o.useEffect(()=>{(async()=>{try{const t=await m.get(`${c}/departments`);if(t.data.success)console.log(t.data.departments),x(t.data.departments);else throw new Error("Failed to fetch doctor details")}catch(t){console.error("Error fetching doctor details:",t)}})()},[]);const g=a=>{if(a.target.files){const t=a.target.files[0];s.setFieldValue("lisenceCertificate",t);const r=new FileReader;r.onload=()=>{h(r.result)},r.readAsDataURL(t)}};return e.jsx("div",{className:"flex items-center justify-center bg-cover bg-center bg-no-repeat min-h-screen ",style:{backgroundImage:`url(${L})`,backgroundSize:"cover",backgroundPosition:"center"},children:e.jsxs("div",{className:"bg-gray-200 bg-opacity-10 w-4/12 shadow-lg rounded-lg p-10 mt-14 mb-10",children:[e.jsx("h2",{className:"text-3xl font-bold mb-6 text-center",children:"Sign Up"}),e.jsxs("form",{onSubmit:s.handleSubmit,children:[e.jsxs("div",{className:"mb-6 ",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Name"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-3 px-3 text-gray-900 leading-tight focus:outline-none",id:"name",type:"text",placeholder:"Name",...s.getFieldProps("name")}),s.errors.name&&s.touched.name&&e.jsx("div",{className:"text-red-500",children:s.errors.name})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none",id:"email",type:"email",placeholder:"Email",...s.getFieldProps("email")}),s.errors.email&&s.touched.email&&e.jsx("div",{className:"text-red-500",children:s.errors.email})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"phoneNumber",children:"Phone Number"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none",id:"phoneNumber",type:"text",placeholder:"Phone Number",...s.getFieldProps("phoneNumber")}),s.errors.phoneNumber&&s.touched.phoneNumber&&e.jsx("div",{className:"text-red-500",children:s.errors.phoneNumber})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"department",children:"Department"}),e.jsxs("select",{id:"department",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none",...s.getFieldProps("department"),children:[e.jsx("option",{className:"text-gray-700",value:""}),u.map(a=>e.jsx("option",{className:"text-gray-700",value:a.departmentName,children:a.departmentName},a._id))]}),s.errors.department&&s.touched.department&&e.jsx("div",{className:"text-red-500",children:s.errors.department})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"education",children:"Education"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none",id:"education",type:"text",placeholder:"Education",...s.getFieldProps("education")}),s.errors.education&&s.touched.education&&e.jsx("div",{className:"text-red-500",children:s.errors.education})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"description",children:"Description"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none",id:"description",placeholder:"Description",...s.getFieldProps("description")})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"experience",children:"Experience"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none",id:"experience",placeholder:"Experience",...s.getFieldProps("experience")})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"medicalLicense",children:"Medical License"}),e.jsx("input",{className:"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none",id:"medicalLicense",type:"file",accept:"image/*",onChange:g}),s.errors.lisenceCertificate&&s.touched.lisenceCertificate&&e.jsx("div",{className:"text-red-500",children:s.errors.lisenceCertificate}),i&&e.jsx("img",{src:i,alt:"Medical License Preview",className:"mt-2 w-44 h-24"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none",id:"password",type:"password",placeholder:"Password",...s.getFieldProps("password")}),s.errors.password&&s.touched.password&&e.jsx("div",{className:"text-red-500",children:s.errors.password})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"confirm-password",children:"Confirm Password"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none",id:"confirm-password",type:"password",placeholder:"Confirm Password",...s.getFieldProps("confirmPassword")}),s.errors.confirmPassword&&s.touched.confirmPassword&&e.jsx("div",{className:"text-red-500",children:s.errors.confirmPassword})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-8 rounded focus:outline-none",type:"submit",children:"Sign Up"})})]}),e.jsxs("p",{className:"mt-2 text-center text-gray-700",children:["Already have an account? ",e.jsx(C,{to:"/doctor/login",className:"text-blue-500 underline",children:"Login"})]})]})})},V=()=>e.jsx(U,{});export{V as default};
