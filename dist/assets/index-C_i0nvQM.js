import{r as i,R as r,y as o}from"./index-DA7c_E-X.js";import{C as u,a as m}from"./SlotPage-DJ0S19NX.js";import"./Navbar-B08Jjj6f.js";import"./toaster-CDKtkdIq.js";import"./logo-CI8ZzsgX.js";import"./index-CQ0PnwpE.js";import"./index-BC-FgnHJ.js";import"./axiosService-Cn-l7JZq.js";import"./axios-B6xwUs71.js";import"./index-VWaDGczM.js";import"./logout-N69Hl7hh.js";import"./Set_Get-jfIHgayU.js";import"./index-CIj5TPqz.js";const p=parseInt(String(r.version).split(".")[0]),h=p<18;class l extends i.Component{constructor(){super(...arguments),this.elRef=i.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const t of this.state.customRenderingMap.values())e.push(r.createElement(g,{key:t.id,customRendering:t}));return r.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new u;this.handleCustomRendering=e.handle.bind(e),this.calendar=new m(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{o.flushSync(()=>{})});let t;e.subscribe(s=>{const a=Date.now(),c=!t;(h||c||this.isUpdating||this.isUnmounting||a-t<100?d:o.flushSync)(()=>{this.setState({customRenderingMap:s},()=>{t=a,c?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}l.act=d;class g extends i.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:t}=e,s=typeof t=="function"?t(e.renderProps):t;return o.createPortal(s,e.containerEl)}}function d(n){n()}export{l as default};
