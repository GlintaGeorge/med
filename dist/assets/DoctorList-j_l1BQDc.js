import{c as j,j as e,L as b,F as N,H as g,r as h}from"./index-DA7c_E-X.js";import{A as y}from"./Header-DTWCZNIh.js";import{A as v}from"./Sidebar-BuSkWbNm.js";import{u as k}from"./useDoctors-C83YiIkj.js";import{a as w}from"./axiosService-Cn-l7JZq.js";import{Q as D,B as d}from"./ReactToastify-B7csjfU9.js";import{a as C}from"./index-CAQ6KIhw.js";import"./logout-N69Hl7hh.js";import"./toaster-CDKtkdIq.js";import"./axios-B6xwUs71.js";import"./index-VWaDGczM.js";import"./Set_Get-jfIHgayU.js";import"./clsx-B-dksMZM.js";import"./iconBase-0wn4fA3J.js";const B=({doctors:r})=>{const t=j(),o=s=>{const c=s.isBlocked?"unblock":"block",l=d(e.jsxs("div",{children:[e.jsxs("p",{children:["Do you really want to ",c," this doctor?"]}),e.jsx("button",{onClick:()=>{r.map(a=>(s._id===a._id&&(s.isBlocked=!s.isBlocked,s.isBlocked&&t(N())),a)),w.patch(`${g}/block_doctor/${s._id}`).then(a=>{a.data.success&&d.success(a.data.message)}).catch(a=>console.log(a)),d.dismiss(l)},className:"bg-blue-500 text-white p-1 m-1 rounded",children:"Yes"}),e.jsx("button",{onClick:()=>d.dismiss(l),className:"bg-gray-500 text-white p-1 m-1 rounded",children:"No"})]}),{autoClose:!1})};return e.jsxs(e.Fragment,{children:[e.jsx(D,{}),r.map((s,c)=>e.jsxs("tr",{className:"bg-white border-b dark:bg-white dark:border-black-700 hover:bg-gray-50 dark:hover:bg-fuchsia-200",children:[e.jsx("td",{className:"px-6 py-4 text-left font-medium text-gray-900 whitespace-nowrap dark:text-fuchsia-950",children:c+1}),e.jsx("td",{className:"px-6 py-4 text-left text-fuchsia-950",children:s.doctorName}),e.jsx("td",{className:"px-6 py-4 text-left text-fuchsia-950",children:s.email}),e.jsx("td",{className:"px-6 py-4 text-left text-fuchsia-950",children:s.department}),e.jsx("td",{className:"px-6 py-4 text-left text-fuchsia-950",children:s.isVerified?"Yes":"No"}),e.jsx("td",{className:"px-6 py-4 text-left text-fuchsia-950",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${s.isBlocked?"bg-red-500":"bg-green-400"}`}),e.jsx("p",{children:s.isBlocked?"Blocked":"Active"})]})}),e.jsx("td",{className:"px-6 py-4 text-left",children:e.jsx(b,{to:`/admin/doctors/${s._id}`,className:"text-blue-950 hover:underline",children:"View Details"})}),e.jsx("td",{className:"px-6 py-4 text-left",children:e.jsx("label",{className:"flex cursor-pointer select-none items-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:s.isBlocked,onChange:()=>o(s),className:"sr-only"}),e.jsx("div",{className:`box block h-6 w-10 rounded-full border-2 ${s.isBlocked?"bg-red-500 border-red-700":"bg-primary border-fuchsia-950"}`}),e.jsx("div",{className:`absolute left-1 top-1 flex h-4 w-4 items-center justify-center rounded-full bg-fuchsia-950 transition ${s.isBlocked?"translate-x-full":""}`})]})})})]},s._id))]})},J=()=>{const{doctors:r}=k(),[t,o]=h.useState(1),[s,c]=h.useState(""),l=8,x=r.filter(i=>i.isApproved).filter(i=>i.doctorName.toLowerCase().includes(s.toLowerCase())),m=x.length,n=Math.ceil(m/l),p=x.slice((t-1)*l,t*l),f=()=>{t<n&&o(t+1)},u=()=>{t>1&&o(t-1)};return e.jsxs("div",{className:"flex h-screen",children:[e.jsx(v,{}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx(y,{}),e.jsxs("div",{className:"p-6 flex flex-col justify-between h-full",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4 text-fuchsia-800",children:"Doctor List"}),e.jsxs("div",{className:"relative ml-20",children:[e.jsx("input",{type:"text",placeholder:"Search...",className:"bg-fuchsia-200 text-fuchsia-800 px-3 py-1 rounded-md focus:outline-none focus:ring focus:border-blue-300",value:s,onChange:i=>c(i.target.value)}),e.jsx(C,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-fuchsia-500"})]})]}),e.jsx("div",{className:"overflow-x-auto mt-4",children:e.jsxs("table",{className:"table-auto w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-fuchsia-950 text-white",children:[e.jsx("th",{className:"px-6 py-3 text-left",children:"ID"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Department"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Verified"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Details"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Actions"})]})}),e.jsx("tbody",{children:e.jsx(B,{doctors:p,currentPage:t,doctorsPerPage:l})})]})})]}),e.jsxs("div",{className:"flex justify-between mt-4",children:[e.jsx("button",{onClick:u,disabled:t===1,className:"px-4 py-2 bg-fuchsia-300 rounded disabled:opacity-50",children:"Previous"}),e.jsxs("span",{children:["Page ",t," of ",n]}),e.jsx("button",{onClick:f,disabled:t===n,className:"px-4 py-2 bg-fuchsia-300 rounded disabled:opacity-50",children:"Next"})]})]})]})]})};export{J as default};
