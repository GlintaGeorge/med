import{b,u as g,r as n,H as h,j as e}from"./index-DA7c_E-X.js";import{a as x}from"./axiosService-Cn-l7JZq.js";import{A as N}from"./Header-DTWCZNIh.js";import{A as j}from"./Sidebar-BuSkWbNm.js";import{s as a}from"./toaster-CDKtkdIq.js";import{A as v}from"./index-Dbgn26G4.js";import"./axios-B6xwUs71.js";import"./index-VWaDGczM.js";import"./logout-N69Hl7hh.js";import"./Set_Get-jfIHgayU.js";import"./index-CAQ6KIhw.js";import"./iconBase-0wn4fA3J.js";const P=()=>{const{id:r}=b(),i=g(),[d,c]=n.useState(""),[m,l]=n.useState(!1);n.useEffect(()=>{x.put(`${h}/department/${r}`).then(t=>{c(t.data.departmentName),l(t.data.isListed)}).catch(t=>{console.log(t),a("Failed to fetch department details","error")})},[r]);const f=async t=>{var p,u;t.preventDefault();try{(await x.put(`${h}/department/${r}`,{departmentName:d,isListed:m})).data.success?(a("Department updated successfully!","success"),i("/admin/department")):a("Failed to update department","error")}catch(s){let o="An error occurred while updating the department";s instanceof v&&(o=((u=(p=s.response)==null?void 0:p.data)==null?void 0:u.message)||o),a(o,"error"),console.error("Error updating department:",s)}};return e.jsxs("div",{className:"flex h-screen",children:[e.jsx(j,{}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx(N,{}),e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4 text-center text-fuchsia-950",children:"Edit Department"}),e.jsxs("form",{onSubmit:f,className:"max-w-lg mx-auto",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"departmentName",className:"block text-fuchsia-700 text-sm font-bold mb-2",children:"Department Name"}),e.jsx("input",{type:"text",id:"departmentName",value:d,onChange:t=>c(t.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"isListed",className:"block text-fuchsia-700 text-sm font-bold mb-2",children:"Is Listed"}),e.jsx("input",{type:"checkbox",id:"isListed",checked:m,onChange:t=>l(t.target.checked),className:"shadow appearance-none border rounded text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{type:"submit",className:"px-4 py-2 bg-fuchsia-950 text-white rounded hover:bg-fuchsia-600",children:"Save Changes"}),e.jsx("button",{type:"button",onClick:()=>i("/admin/department"),className:"px-4 py-2 bg-fuchsia-300 text-gray-700 rounded hover:bg-fuchsia-400",children:"Cancel"})]})]})]})]})]})};export{P as default};
