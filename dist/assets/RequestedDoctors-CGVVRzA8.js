import{j as e,L as d,r as o,H as u}from"./index-DA7c_E-X.js";import{A as j}from"./Header-DTWCZNIh.js";import{A as N}from"./Sidebar-BuSkWbNm.js";import"./logout-N69Hl7hh.js";import"./toaster-CDKtkdIq.js";import"./index-CAQ6KIhw.js";import"./iconBase-0wn4fA3J.js";const b=({doctors:r,currentPage:l,doctorsPerPage:t})=>e.jsx(e.Fragment,{children:r.map((s,a)=>e.jsxs("tr",{className:"bg-white border-b dark:bg-white dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-fuchsia-200",children:[e.jsxs("td",{className:"px-6 py-4 text-left font-medium text-gray-900 whitespace-nowrap dark:text-fuchsia-950",children:[(l-1)*t+a+1," "]}),e.jsx("td",{className:"px-6 py-4 text-left text-fuchsia-950",children:s.doctorName}),e.jsx("td",{className:"px-6 py-4 text-left text-fuchsia-950",children:s.email}),e.jsx("td",{className:"px-6 py-4 text-left text-fuchsia-950",children:s.department}),e.jsx("td",{className:"px-6 py-4 text-left text-fuchsia-950",children:e.jsx(d,{to:`/admin/doctors/${s._id}`,className:"text-blue-500 hover:underline",children:"View Details"})}),e.jsx("td",{className:"px-6 py-4 text-left",children:e.jsx(d,{to:`/admin/doctors/${s._id}/verification`,className:"bg-fuchsia-900 hover:bg-fuchsia-800 text-white font-bold py-2 px-4 rounded ml-10",children:"Verify"})})]},s._id))}),E=()=>{const[r,l]=o.useState([]),[t,s]=o.useState(1),a=8;o.useEffect(()=>{(async()=>{try{const c=await fetch(`${u}/doctors`);if(!c.ok)throw new Error("Failed to fetch doctors");const m=await c.json();l(m.doctors.filter(p=>!p.isApproved))}catch(c){console.error("Error fetching doctors:",c)}})()},[]);const x=r.length,i=Math.ceil(x/a),n=r.slice((t-1)*a,t*a),h=()=>{t<i&&s(t+1)},f=()=>{t>1&&s(t-1)};return e.jsxs("div",{className:"flex h-screen",children:[e.jsx(N,{}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx(j,{}),e.jsxs("div",{className:"flex-grow p-6 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold mb-4  text-fuchsia-800",children:"Requested Doctor List"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table-auto w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-fuchsia-950  text-white",children:[e.jsx("th",{className:"px-6 py-3 text-left",children:"Serial Number"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Department"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Details"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Verification Request"})]})}),e.jsx("tbody",{children:e.jsx(b,{doctors:n,currentPage:t,doctorsPerPage:a})})]})})]}),e.jsxs("div",{className:"flex justify-between mt-4",children:[e.jsx("button",{onClick:f,disabled:t===1,className:"px-4 py-2 bg-fuchsia-300 rounded disabled:opacity-50",children:"Previous"}),e.jsxs("span",{children:["Page ",t," of ",i]}),e.jsx("button",{onClick:h,disabled:t===i,className:"px-4 py-2 bg-fuchsia-300 rounded disabled:opacity-50",children:"Next"})]})]})]})]})};export{E as default};
